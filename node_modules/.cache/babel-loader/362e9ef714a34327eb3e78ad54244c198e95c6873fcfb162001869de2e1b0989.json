{"ast":null,"code":"var _jsxFileName = \"/home/shreyas/Documents/newdashboard/youtube-clone/src/components/Head.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createSearchParams, useNavigate } from \"react-router-dom\";\nimport { toggleMenu } from \"../utils/appSlice\";\nimport { YOUTUBE_SEARCH_SUGGESTIONS_API } from \"../utils/constants\";\nimport { cacheResults } from \"../utils/searchSlice\";\nimport Logo from \"../assests/images/youtubeRelated3.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Head = () => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestions, setshowSuggestions] = useState(false);\n  const [hoverSuggestion, setHoverSuggestion] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const searchCache = useSelector(store => store.search);\n  const toggleMenuHandler = () => {\n    dispatch(toggleMenu());\n  };\n  const getSeachSuggestions = async () => {\n    const data = await fetch(YOUTUBE_SEARCH_SUGGESTIONS_API + searchQuery);\n    const jsonData = await data.json();\n    setSuggestions(jsonData[1]);\n    dispatch(cacheResults({\n      [searchQuery]: jsonData[1]\n    }));\n  };\n  const onSelectSuggestion = (e, buttonFlag) => {\n    const event = !buttonFlag ? e.target.innerText : searchQuery;\n    setSearchQuery(event);\n    setshowSuggestions(false);\n    searchQuery && navigate({\n      pathname: \"results\",\n      search: createSearchParams({\n        search_query: event\n      }).toString()\n    });\n  };\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (searchCache[searchQuery]) {\n        setSuggestions(searchCache[searchQuery]);\n      } else {\n        getSeachSuggestions();\n      }\n    }, 500);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [searchQuery]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-flow-col p-5 shadow-xl sticky top-0 bg-white items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col-reverse col-span-3 sm:col-span-1 sm:flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: () => toggleMenuHandler(),\n        className: \"h-10 sm:h-12 cursor-pointer\",\n        alt: \"menu\",\n        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiC3wMxCwXBR4fAujFYPsrQTgWtn1820Q1l3QmnmU&s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": \"logo\",\n        className: \"h-8 sm:h-12\",\n        alt: \"youtube\",\n        src: Logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-span-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        \"data-testid\": \"search-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"search-input\",\n          value: searchQuery,\n          placeholder: \"Search\",\n          className: \"py-2.5 px-4 w-1/2 rounded-l-3xl border border-gray-500\",\n          type: \"text\",\n          onFocus: () => setshowSuggestions(true),\n          onBlur: () => !hoverSuggestion && setshowSuggestions(false),\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"search-btn\",\n          className: \"px-6 text-white text-sm rounded-r-3xl bg-white hover:text-black border border-gray-500\",\n          onClick: e => onSelectSuggestion(e, true),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-6 h-6\",\n            alt: \"search-icon\",\n            src: \"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        \"data-testid\": \"search-suggestion\",\n        className: \"bg-white mt-1 shadow-lg absolute w-1/3 left-[29%] sm:left-[36%] md:left-[34.3%] lg:left-[33%] xl:left-[31.5%] 2xl:left-[31%] text-left rounded-lg\",\n        onMouseOver: () => setHoverSuggestion(true),\n        onMouseOut: () => setHoverSuggestion(false),\n        children: showSuggestions && suggestions.map((suggestion, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-testid\": \"suggestions\",\n            className: \"flex p-2 cursor-pointer hover:bg-gray-100\",\n            onClick: onSelectSuggestion,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"w-6 h-6 mr-2\",\n              alt: \"suggestion-icon\",\n              src: \"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this), suggestion]\n          }, suggestion + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-span-2\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": \"user-icon\",\n        className: \"h-12\",\n        alt: \"user-icon\",\n        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSYyNXOWAO3zkAU8IsCQ7ITRY1FxAnQq675gUmpbV_6A&s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(Head, \"IXG1RakVyi9X/LT5GJ8MWBsEs08=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = Head;\nexport default Head;\nvar _c;\n$RefreshReg$(_c, \"Head\");","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","createSearchParams","useNavigate","toggleMenu","YOUTUBE_SEARCH_SUGGESTIONS_API","cacheResults","Logo","jsxDEV","_jsxDEV","Head","_s","searchQuery","setSearchQuery","suggestions","setSuggestions","showSuggestions","setshowSuggestions","hoverSuggestion","setHoverSuggestion","dispatch","navigate","searchCache","store","search","toggleMenuHandler","getSeachSuggestions","data","fetch","jsonData","json","onSelectSuggestion","e","buttonFlag","event","target","innerText","pathname","search_query","toString","timer","setTimeout","clearTimeout","className","children","onClick","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","value","placeholder","type","onFocus","onBlur","onChange","onMouseOver","onMouseOut","map","suggestion","index","_c","$RefreshReg$"],"sources":["/home/shreyas/Documents/newdashboard/youtube-clone/src/components/Head.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createSearchParams, useNavigate } from \"react-router-dom\";\nimport { toggleMenu } from \"../utils/appSlice\";\nimport { YOUTUBE_SEARCH_SUGGESTIONS_API } from \"../utils/constants\";\nimport { cacheResults } from \"../utils/searchSlice\";\nimport Logo from \"../assests/images/youtubeRelated3.png\";\n\nconst Head = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestions, setshowSuggestions] = useState(false);\n  const [hoverSuggestion, setHoverSuggestion] = useState(false);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const searchCache = useSelector((store) => store.search);\n\n  const toggleMenuHandler = () => {\n    dispatch(toggleMenu());\n  };\n\n  const getSeachSuggestions = async () => {\n    const data = await fetch(YOUTUBE_SEARCH_SUGGESTIONS_API + searchQuery);\n    const jsonData = await data.json();\n    setSuggestions(jsonData[1]);\n\n    dispatch(\n      cacheResults({\n        [searchQuery]: jsonData[1],\n      })\n    );\n  };\n\n  const onSelectSuggestion = (e, buttonFlag) => {\n    const event = !buttonFlag ? e.target.innerText : searchQuery;\n\n    setSearchQuery(event);\n    setshowSuggestions(false);\n\n    searchQuery &&\n      navigate({\n        pathname: \"results\",\n        search: createSearchParams({\n          search_query: event,\n        }).toString(),\n      });\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (searchCache[searchQuery]) {\n        setSuggestions(searchCache[searchQuery]);\n      } else {\n        getSeachSuggestions();\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [searchQuery]);\n\n  return (\n    <div className=\"grid grid-flow-col p-5 shadow-xl sticky top-0 bg-white items-center\">\n      <div className=\"flex flex-col-reverse col-span-3 sm:col-span-1 sm:flex-row\">\n        <img\n          onClick={() => toggleMenuHandler()}\n          className=\"h-10 sm:h-12 cursor-pointer\"\n          alt=\"menu\"\n          src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiC3wMxCwXBR4fAujFYPsrQTgWtn1820Q1l3QmnmU&s\"\n        />\n        <img\n          data-testid=\"logo\"\n          className=\"h-8 sm:h-12\"\n          alt=\"youtube\"\n          src={Logo}\n        />\n      </div>\n      <div className=\"col-span-10\">\n        <div className=\"flex justify-center\" data-testid=\"search-field\">\n          <input\n            data-testid=\"search-input\"\n            value={searchQuery}\n            placeholder=\"Search\"\n            className=\"py-2.5 px-4 w-1/2 rounded-l-3xl border border-gray-500\"\n            type=\"text\"\n            onFocus={() => setshowSuggestions(true)}\n            onBlur={() => !hoverSuggestion && setshowSuggestions(false)}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n          <button\n            data-testid=\"search-btn\"\n            className=\"px-6 text-white text-sm rounded-r-3xl bg-white hover:text-black border border-gray-500\"\n            onClick={(e) => onSelectSuggestion(e, true)}\n          >\n            <img\n              className=\"w-6 h-6\"\n              alt=\"search-icon\"\n              src=\"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png\"\n            />\n          </button>\n        </div>\n        <ul\n          data-testid=\"search-suggestion\"\n          className=\"bg-white mt-1 shadow-lg absolute w-1/3 left-[29%] sm:left-[36%] md:left-[34.3%] lg:left-[33%] xl:left-[31.5%] 2xl:left-[31%] text-left rounded-lg\"\n          onMouseOver={() => setHoverSuggestion(true)}\n          onMouseOut={() => setHoverSuggestion(false)}\n        >\n          {showSuggestions &&\n            suggestions.map((suggestion, index) => {\n              return (\n                <li\n                  data-testid=\"suggestions\"\n                  key={suggestion + index}\n                  className=\"flex p-2 cursor-pointer hover:bg-gray-100\"\n                  onClick={onSelectSuggestion}\n                >\n                  <img\n                    className=\"w-6 h-6 mr-2\"\n                    alt=\"suggestion-icon\"\n                    src=\"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png\"\n                  />\n                  {suggestion}\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n      <div className=\"col-span-2\">\n        <img\n          data-testid=\"user-icon\"\n          className=\"h-12\"\n          alt=\"user-icon\"\n          src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSYyNXOWAO3zkAU8IsCQ7ITRY1FxAnQq675gUmpbV_6A&s\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Head;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}