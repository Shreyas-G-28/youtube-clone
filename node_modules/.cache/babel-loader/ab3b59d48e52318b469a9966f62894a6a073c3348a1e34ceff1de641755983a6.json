{"ast":null,"code":"var _jsxFileName = \"/home/shreyas/Documents/newdashboard/youtube-clone/src/components/VideoContainer.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useCallback } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { YOUTUBE_VIDEO_API } from \"../utils/constants\";\nimport { addVideos, saveVidoes } from \"../utils/videoSlice\";\nimport ButtonList from \"./ButtonList\";\nimport VideoCard from \"./VideoCard\";\nimport Shimmer from \"./Shimmer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoContainer = () => {\n  _s();\n  const [videos, setVideos] = useState([]);\n  const [y, setY] = useState(0);\n  const savedVideos = useSelector(store => store.video.videos);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    getVideos();\n  }, []);\n  const handleNavigation = useCallback(() => {\n    if (y < window.scrollY) {\n      // scrolling down\n      dispatch(addVideos(videos));\n    }\n    setY(window.scrollY);\n  }, [y]);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleNavigation);\n    return () => {\n      window.removeEventListener(\"scroll\", handleNavigation);\n    };\n  }, [handleNavigation]);\n  const getVideos = async () => {\n    const data = await fetch(YOUTUBE_VIDEO_API);\n    const jsonData = await data.json();\n    const responsePresent = jsonData.items.length > 0 ? true : false;\n    responsePresent && dispatch(saveVidoes(jsonData.items));\n    responsePresent && setVideos(jsonData.items);\n  };\n  if (savedVideos.length === 0) return /*#__PURE__*/_jsxDEV(Shimmer, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 40\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-testid\": \"video-container\",\n    children: [/*#__PURE__*/_jsxDEV(ButtonList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"video-result\",\n      className: \"flex flex-wrap justify-center\",\n      children: savedVideos.map((video, index) => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: 'watch?v=' + video.id,\n          children: /*#__PURE__*/_jsxDEV(VideoCard, {\n            info: video\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, video.id + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoContainer, \"WRfdA2tGJa2rmtmlfAMGnTOKqpA=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = VideoContainer;\nexport default VideoContainer;\nvar _c;\n$RefreshReg$(_c, \"VideoContainer\");","map":{"version":3,"names":["useState","useCallback","useEffect","useDispatch","useSelector","Link","YOUTUBE_VIDEO_API","addVideos","saveVidoes","ButtonList","VideoCard","Shimmer","jsxDEV","_jsxDEV","VideoContainer","_s","videos","setVideos","y","setY","savedVideos","store","video","dispatch","getVideos","handleNavigation","window","scrollY","addEventListener","removeEventListener","data","fetch","jsonData","json","responsePresent","items","length","fileName","_jsxFileName","lineNumber","columnNumber","children","className","map","index","to","id","info","_c","$RefreshReg$"],"sources":["/home/shreyas/Documents/newdashboard/youtube-clone/src/components/VideoContainer.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useCallback } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { YOUTUBE_VIDEO_API } from \"../utils/constants\";\nimport { addVideos, saveVidoes } from \"../utils/videoSlice\";\nimport ButtonList from \"./ButtonList\";\nimport VideoCard from \"./VideoCard\";\nimport Shimmer from \"./Shimmer\";\n\nconst VideoContainer = () => {\n  const [videos, setVideos] = useState([]);\n  const [y, setY] = useState(0);\n  \n  const savedVideos = useSelector((store) => store.video.videos);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getVideos();\n  }, []);\n\n  const handleNavigation = useCallback(() => {\n\n    if (y < window.scrollY) {\n      // scrolling down\n      dispatch(addVideos(videos))\n    }\n    setY(window.scrollY)\n\n  }, [y]);\n\n  useEffect(() => {\n\n    window.addEventListener(\"scroll\", handleNavigation);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleNavigation);\n    };\n  }, [handleNavigation]);\n\n\n  const getVideos = async () => {\n    const data = await fetch(YOUTUBE_VIDEO_API);\n    const jsonData = await data.json();\n    const responsePresent =\n      jsonData.items.length > 0\n        ? true\n        : false;\n    responsePresent && dispatch(saveVidoes(jsonData.items))\n    responsePresent && setVideos(jsonData.items)\n  }\n\n  if (savedVideos.length === 0) return <Shimmer />\n\n  return (\n    <div data-testid=\"video-container\">\n      <ButtonList />\n      <div data-testid=\"video-result\" className=\"flex flex-wrap justify-center\">\n        {savedVideos.map((video, index) => {\n          return (\n            <Link key={video.id + index} to={'watch?v=' + video.id}>\n              <VideoCard info={video} />\n            </Link>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default VideoContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}